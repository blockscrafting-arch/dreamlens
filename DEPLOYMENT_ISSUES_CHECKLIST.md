# –ß–µ–∫–ª–∏—Å—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

## üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–±–ª–æ–∫–∏—Ä—É—é—Ç —Ä–∞–±–æ—Ç—É)

### 1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ GEMINI_API_KEY –Ω–∞ Vercel
**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∞ 500 –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –°–æ–æ–±—â–µ–Ω–∏–µ "–°–µ—Ä–≤–µ—Ä –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É."

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables
2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é: `GEMINI_API_KEY` (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ VITE_!)
3. –ó–Ω–∞—á–µ–Ω–∏–µ: –≤–∞—à Google Gemini API –∫–ª—é—á (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `AIzaSy...`)
4. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç (–∏–ª–∏ –ø–æ–¥–æ–∂–¥–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –í Vercel Dashboard –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
# –ò–ª–∏ —á–µ—Ä–µ–∑ CLI:
vercel env ls
```

### 2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∞ 500 –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ `/api/tokens`
- –û—à–∏–±–∫–∏ "relation does not exist" –≤ –ª–æ–≥–∞—Ö
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Vercel Dashboard ‚Üí Storage ‚Üí Postgres
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å—Ö–µ–º—É –∏–∑ `database/schema.sql`
3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `initDatabase()` (–µ—Å–ª–∏ –æ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∞)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ç–∞–±–ª–∏—Ü
SELECT table_name FROM information_schema.tables 
WHERE table_schema = 'public';
```

### 3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ VITE_CLERK_PUBLISHABLE_KEY
**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: "Missing Clerk Publishable Key"
- Clerk –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤—å—Ç–µ `VITE_CLERK_PUBLISHABLE_KEY` –≤ Vercel Environment Variables
2. –ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `pk_live_...` (production) –∏–ª–∏ `pk_test_...` (development)

## üü° –í–∞–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫–∏)

### 4. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö
**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- `userImages` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞—Å—Å–∏–≤–æ–º –æ–±—ä–µ–∫—Ç–æ–≤ —Å `base64` –∏ `qualityScore`
- `config.referenceImage` –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `{ base64: string, mimeType?: string }`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –∫ `/api/generate/image`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è

### 5. –ü—Ä–æ–±–ª–µ–º—ã —Å CORS
**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∏ "CORS policy" –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- –ó–∞–ø—Ä–æ—Å—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CSP –≤ `index.html` - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –¥–æ–º–µ–Ω—ã Clerk
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS –≤ `api/utils/cors.ts`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `ALLOWED_ORIGINS` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### 6. –ü—Ä–æ–±–ª–µ–º—ã —Å Clerk –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∞ "Clerk: Failed to load Clerk"
- –ü—Ä–æ–±–ª–µ–º—ã —Å –≤—Ö–æ–¥–æ–º/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π
- **–û—à–∏–±–∫–∞ 401 Unauthorized –Ω–∞ `/api/tokens` –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞**
- –°–æ–æ–±—â–µ–Ω–∏–µ `{"success":false,"error":"Unauthorized","message":"Authentication required"}`

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `VITE_CLERK_PUBLISHABLE_KEY` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `pk_live_...` –∏–ª–∏ `pk_test_...`)
2. **–ö–†–ò–¢–ò–ß–ù–û: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `CLERK_SECRET_KEY` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤)**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `CLERK_SECRET_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `sk_live_...` –∏–ª–∏ `sk_test_...`)
   - **–ë–ï–ó —ç—Ç–æ–≥–æ –∫–ª—é—á–∞ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Å Clerk —Ç–æ–∫–µ–Ω–∞–º–∏ –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 401 Unauthorized**
   - –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á –≤ Clerk Dashboard ‚Üí API Keys ‚Üí Secret Keys

3. **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ Test/Live –∫–ª—é—á–µ–π**
   - –ï—Å–ª–∏ `VITE_CLERK_PUBLISHABLE_KEY` = `pk_test_...`, —Ç–æ `CLERK_SECRET_KEY` **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `sk_test_...`
   - –ï—Å–ª–∏ `VITE_CLERK_PUBLISHABLE_KEY` = `pk_live_...`, —Ç–æ `CLERK_SECRET_KEY` **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `sk_live_...`
   - **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–ª—é—á–µ–π - —Å–∞–º–∞—è —á–∞—Å—Ç–∞—è –ø—Ä–∏—á–∏–Ω–∞ 401 –æ—à–∏–±–æ–∫!**
   - –ü—Ä–∏–º–µ—Ä –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
     ```
     VITE_CLERK_PUBLISHABLE_KEY=pk_live_abc123...
     CLERK_SECRET_KEY=sk_test_xyz789...  ‚Üê –≠—Ç–æ –≤—ã–∑–æ–≤–µ—Ç 401!
     ```
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
     ```
     VITE_CLERK_PUBLISHABLE_KEY=pk_test_abc123...
     CLERK_SECRET_KEY=sk_test_xyz789...  ‚Üê OK –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
     
     VITE_CLERK_PUBLISHABLE_KEY=pk_live_abc123...
     CLERK_SECRET_KEY=sk_live_xyz789...  ‚Üê OK –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
     ```

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CSP - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –¥–æ–º–µ–Ω—ã Clerk:
   - `https://correct-sunfish-97.clerk.accounts.dev`
   - `https://*.clerk.accounts.dev`
   - `https://*.clerk.com`
   - `https://api.clerk.com`
   - `https://cdn.jsdelivr.net` (–¥–æ–±–∞–≤–ª–µ–Ω–æ)

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard ‚Üí Functions ‚Üí Logs
- –ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
  - "Clerk not configured" - –∑–Ω–∞—á–∏—Ç `CLERK_SECRET_KEY` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
  - "Clerk key mismatch detected" - –∑–Ω–∞—á–∏—Ç –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ Test/Live –∫–ª—é—á–µ–π
  - "Token verification failed" - –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑-–∑–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫–ª—é—á–µ–π –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–±–ª–µ–º
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã –∫–ª—é—á–µ–π –≤ –ª–æ–≥–∞—Ö - –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å (–æ–±–∞ test –∏–ª–∏ –æ–±–∞ live)

### 7. –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL
**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ
- Timeout –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö
- –û—à–∏–±–∫–∏ "too many connections"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - `POSTGRES_URL`
   - `POSTGRES_PRISMA_URL`
   - `POSTGRES_URL_NON_POOLING`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞ –≤ Vercel
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

## üü¢ –ú–µ–Ω–µ–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 8. –ü—Ä–æ–±–ª–µ–º—ã —Å CDN/Storage
**–°–∏–º–ø—Ç–æ–º—ã:**
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –û—à–∏–±–∫–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `BLOB_READ_WRITE_TOKEN` (–¥–ª—è Vercel Blob)
- –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ R2 (–¥–ª—è Cloudflare)
- –≠—Ç–æ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –±–µ–∑ CDN

### 9. –ü—Ä–æ–±–ª–µ–º—ã —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
**–°–∏–º–ø—Ç–æ–º—ã:**
- –°–æ–±—ã—Ç–∏—è –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –≤ GA4
- –û—à–∏–±–∫–∏ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ Sentry

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `VITE_GA_MEASUREMENT_ID`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `VITE_SENTRY_DSN`
- –≠—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## ‚úÖ –ö–æ–≥–¥–∞ –≤—Å–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç?

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã:
1. ‚úÖ **GEMINI_API_KEY** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ Vercel
2. ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** —Å–æ–∑–¥–∞–Ω–∞ –∏ —Å—Ö–µ–º–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
3. ‚úÖ **VITE_CLERK_PUBLISHABLE_KEY** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ)
4. ‚úÖ **CLERK_SECRET_KEY** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ Vercel (–¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ) - **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!**
5. ‚úÖ **–ö–æ–¥ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω** –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤:
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–æ—Ç–æ
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ç–æ–∫–µ–Ω–æ–≤ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (Clerk –∏–ª–∏ device ID)

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ):
- CDN –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (GA4, Sentry)
- –ü–ª–∞—Ç–µ–∂–∏ (–ÆKassa)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
```
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ 3+ —Ñ–æ—Ç–æ
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å
4. –ù–∞–∂–º–∏—Ç–µ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å"
5. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–Ω–µ –æ—à–∏–±–∫–∞)
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ API endpoints:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫:
# - /api/generate/image (POST)
# - /api/generate/idea (POST)
# - /api/tokens (GET)
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è
SELECT COUNT(*) FROM users;

-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω—ã
SELECT COUNT(*) FROM user_tokens;
```

## üìù –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º:

- [ ] `GEMINI_API_KEY` –¥–æ–±–∞–≤–ª–µ–Ω –≤ Vercel (–ë–ï–ó VITE_ –ø—Ä–µ—Ñ–∏–∫—Å–∞!)
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞ –≤ Vercel
- [ ] –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ (`database/schema.sql`)
- [ ] `VITE_CLERK_PUBLISHABLE_KEY` –¥–æ–±–∞–≤–ª–µ–Ω –≤ Vercel (–¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞)
- [ ] **`CLERK_SECRET_KEY` –¥–æ–±–∞–≤–ª–µ–Ω –≤ Vercel (–¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞) - –ö–†–ò–¢–ò–ß–ù–û! –ë–µ–∑ –Ω–µ–≥–æ –±—É–¥–µ—Ç 401 Unauthorized**
- [ ] –ü—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –ö—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ –æ—á–∏—â–µ–Ω (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ)

## üö® –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard:**
   - Settings ‚Üí Functions ‚Üí Logs
   - –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ 500, 401, 402

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Console
   - –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ JavaScript

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API
   - –°–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ç—É—Å—ã –æ—Ç–≤–µ—Ç–æ–≤ –∏ —Ç–µ–ª–∞ –æ—à–∏–±–æ–∫

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```bash
   vercel env ls
   ```

