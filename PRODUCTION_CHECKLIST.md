# Production Deployment Checklist

## Перед деплоем

### Безопасность
- [x] API ключи не утекают в клиентский код
- [x] Валидация всех входных данных
- [x] Safety settings восстановлены
- [x] Error Boundary добавлен
- [x] Rate limiting на клиенте и сервере

### Инфраструктура
- [x] Vercel Serverless Functions настроены
- [x] PostgreSQL схема создана
- [x] Clerk интегрирован
- [x] ЮKassa интегрирован
- [x] CDN для изображений настроен

### Мониторинг
- [x] Google Analytics 4 интегрирован
- [x] Sentry настроен
- [x] Структурированное логирование

### Функциональность
- [x] Система подписок работает
- [x] Платежи обрабатываются
- [x] Лимиты генераций проверяются
- [x] История сохраняется

## После деплоя

### Проверка работы
- [ ] Аутентификация работает
- [ ] Генерация изображений работает
- [ ] Платежи проходят успешно
- [ ] Webhook ЮKassa получает уведомления
- [ ] Аналитика отслеживает события
- [ ] Ошибки попадают в Sentry

### Настройка
- [ ] Настроить алерты в Sentry
- [ ] Проверить лимиты API Gemini
- [ ] Настроить мониторинг базы данных
- [ ] Проверить CDN кэширование

### Тестирование
- [ ] Протестировать Free план (5 генераций)
- [ ] Протестировать Pro план (50 генераций)
- [ ] Протестировать Premium план (безлимит)
- [ ] Протестировать платежи (test режим)
- [ ] Протестировать webhook

## Масштабирование

При росте нагрузки:
- [ ] Мониторить использование API Gemini
- [ ] Настроить connection pooling
- [ ] Добавить Redis для кэширования (опционально)
- [ ] Оптимизировать запросы к базе данных
- [ ] Настроить автоматическое масштабирование


